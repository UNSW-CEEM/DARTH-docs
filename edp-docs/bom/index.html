
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://unsw-ceem.github.io/DARTH-docs/edp-docs/edp/bom/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>BOM (Bureau of Meteorology) - DARTH EDP</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../edp-docs/css/edp-overrides.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bom-bureau-of-meteorology" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      
<a class="md-header-nav__title" href="#" aria-label="EDP Home">
  DARTH EDP
</a>

    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DARTH EDP" class="md-nav__button md-logo" aria-label="DARTH EDP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DARTH EDP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../edp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EDP
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#database-structure-data" class="md-nav__link">
    <span class="md-ellipsis">
      Database Structure &amp; Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-original-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix A: Original Dataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix A: Original Dataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-notes" class="md-nav__link">
    <span class="md-ellipsis">
      1. Notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-station-details" class="md-nav__link">
    <span class="md-ellipsis">
      2. Station Details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-data-files" class="md-nav__link">
    <span class="md-ellipsis">
      3. Data Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-data-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix B: Data Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix B: Data Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-station-details" class="md-nav__link">
    <span class="md-ellipsis">
      1. Station Details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-weather-data" class="md-nav__link">
    <span class="md-ellipsis">
      2. Weather Data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="bom-bureau-of-meteorology">BOM (Bureau of Meteorology)</h1>
<p>This dataset consists of half-hourly weather data from the Australian Bureau of Meteorology. It starts from 1985 and continues to the present and includes around 630 weather stations nation-wide. </p>
<h2 id="database-structure-data">Database Structure &amp; Data</h2>
<p>This dataset has two tables in the database: </p>
<table>
<thead>
<tr>
<th>Database Table</th>
<th>Columns</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>bom_station_details</em></td>
<td>date_data_supplied, record_identifier, station_number, rainfall_district_code, station_name, month_year_station_opened, month_year_station_closed, latitude, longitude, method_by_which_latitude_longitude_was_derived, state, height_of_station_above_mean_sea_level_metres, height_of_barometer_above_mean_sea_level_metres, wmo_index_number, first_year_of_data_supplied, last_year_of_data_supplied, percentage_complete_between_first_and_last_records, percentage_of_values_with_quality_flag_y,  percentage_of_values_with_quality_flag_n, percentage_of_values_with_quality_flag_w, percentage_of_values_with_quality_flag_s, percentage_of_values_with_quality_flag_i, end_of_record_indicator</td>
</tr>
<tr>
<td><em>bom_data</em></td>
<td>hm, station_number, state, year, month, day, hour_local_std, min_local_std, datetime, precipitation_since_9am_local_time_in_mm, quality_of_precipitation_since_9am_local_time, air_temperature_in_degrees_c, quality_of_air_temperature, wet_bulb_temperature_in_degrees_c, quality_of_wet_bulb_temperature, dew_point_temperature_in_degrees_c, quality_of_dew_point_temperature, relative_humidity_in_percentage, quality_of_relative_humidity, vapour_pressure_in_hpa, quality_of_vapour_pressure, saturated_vapour_pressure_in_hpa, quality_of_saturated_vapour_pressure, wind_speed_in_km_h, wind_speed_quality, wind_direction_in_degrees_true, wind_direction_quality,  speed_of_maximum_windgust_in_last_10_minutes_in_km_h, quality_of_speed_of_maximum_windgust_in_last_10_minutes, cloud_amount_of_first_group_in_eighths, quality_of_first_group_of_cloud_amount, cloud_type_of_first_group_in_code, quality_of_first_group_of_cloud_type, cloud_height_of_first_group_in_feet, quality_of_first_group_of_cloud_height, cloud_amountof_second_group_in_eighths, quality_of_second_group_of_cloud_amount, cloud_type_of_second_group_in_code, quality_of_second_group_of_cloud_type, cloud_height_of_second_group_in_feet, quality_of_second_group_of_cloud_height, cloud_amount_of_third_group_in_eighths, quality_of_third_group_of_cloud_amount, cloud_type_of_third_group_in_code, quality_of_third_group_of_cloud_type, cloud_height_of_third_group_in_feet, quality_of_third_group_of_cloud_height, cloud_amount_of_fourth_group_in_eighths, quality_of_fourth_group_of_cloud_amount, cloud_type_of_fourth_group_in_code, quality_of_fourth_group_of_cloud_type, cloud_height_of_fourth_group_in_feet, quality_of_fourth_group_of_cloud_height, ceilometer_cloud_amount_of_first_group, quality_of_first_group_of_ceilometer_cloud_amount, ceilometer_cloud_height_of_first_group_in_feet, quality_of_first_group_of_ceilometer_cloud_height, ceilometer_cloud_amount_of_second_group, quality_of_second_group_of_ceilometer_cloud_amount, ceilometer_cloud_height_of_second_group_in_feet, quality_of_second_group_of_ceilometer_cloud_height, ceilometer_cloud_amount_of_third_group, quality_of_third_group_of_ceilometer_cloud_amount, ceilometer_cloud_height_of_third_group_in_feet, quality_of_third_group_of_ceilometer_cloud_height, ceilometer_sky_clear_flag, mean_sea_level_pressure_in_hpa, quality_of_mean_sea_level_pressure, station_level_pressure_in_hpa, quality_of_station_level_pressure, aws_flag, end_of_record_indicator</td>
</tr>
</tbody>
</table>
<p>The station details are usually the same from month to month for each station, occasionally change for example a station is closed. Therefore, we keep all records of these details to have the details corresponding to the data in any specific date. However, it also means that the details are repeated in the table. </p>
<p>An example of the <em>bom_station_details</em> for one month can be found here. </p>
<p>Due to the high volume of the data, the <em>bom_data</em> table has been partitioned by zones (states): </p>
<ul>
<li>
<p>bom_data_ant </p>
</li>
<li>
<p>bom_data_nsw </p>
</li>
<li>
<p>bom_data_nt </p>
</li>
<li>
<p>bom_data_qld </p>
</li>
<li>
<p>bom_data_sa </p>
</li>
<li>
<p>bom_data_tas </p>
</li>
<li>
<p>bom_data_vic </p>
</li>
<li>
<p>bom_data_wa </p>
</li>
</ul>
<p>Each of the above partitions are accessible via the web downloader by selecting the name in the <em>Data Type</em> input field. It is recommended to use the <em>Time From</em> and <em>Time To</em> filters in the web interface to limit the data download volume to the necessary amount. Currently the size of this dataset is around 35 GB, each zone around 5 GB (on average). </p>
<h2 id="appendix-a-original-dataset">Appendix A: Original Dataset</h2>
<p>At the beginning of the project, we received the historical data up to May 2022 in a batch. It consisted of two metadata files (station details and station notes) for all the stations, plus one file of historical weather data for each station. Afterwards, we have been receiving monthly data updates including one monthly data file for each weather station, and two metadata files for all the stations.  </p>
<h3 id="1-notes">1. Notes</h3>
<p>With each data round one Notes metadata file is provided which explains the period of observation, byte location, byte size, and explanation of the fields in the data files, parameter notes, code meanings, and finally byte location, byte size, and explanation of the fields in the station details file. An example of the Notes file can be found here. </p>
<h3 id="2-station-details">2. Station Details</h3>
<p>With each data round one Station Details metadata file is provided as a text file. The file starts with the following explanation/disclaimer: </p>
<pre><code>“Percentage complete between first and last records assumes 48 observation per day.

Some days there may be more than 48 reports if there have been significant changes in

the weather, so the percentage completeness is an estimate.”
</code></pre>
<p>Then it has around 630 rows of details, one row for each weather station, including the following fields: </p>
<ul>
<li>
<p>Record identifier - st </p>
</li>
<li>
<p>Bureau of Meteorology Station Number </p>
</li>
<li>
<p>Rainfall district code </p>
</li>
<li>
<p>Station Name </p>
</li>
<li>
<p>Month/Year station opened (MM/YYYY) </p>
</li>
<li>
<p>Month/Year station closed if applicable (MM/YYYY) </p>
</li>
<li>
<p>Latitude to 4 decimal places, in decimal degrees </p>
</li>
<li>
<p>Longitude to 4 decimal places, in decimal degrees </p>
</li>
<li>
<p>Method by which latitude/longitude was derived </p>
</li>
<li>
<p>State </p>
</li>
<li>
<p>Height of station above mean sea level in metres </p>
</li>
<li>
<p>Height of barometer above mean sea level in metres </p>
</li>
<li>
<p>WMO (World Meteorological Organisation) Index Number </p>
</li>
<li>
<p>First year of data supplied in data file </p>
</li>
<li>
<p>Last year of data supplied in data file </p>
</li>
<li>
<p>Percentage complete between first and last records </p>
</li>
<li>
<p>Percentage of values with quality flag 'Y' </p>
</li>
<li>
<p>Percentage of values with quality flag 'N' </p>
</li>
<li>
<p>Percentage of values with quality flag 'W' </p>
</li>
<li>
<p>Percentage of values with quality flag 'S' </p>
</li>
<li>
<p>Percentage of values with quality flag 'I' </p>
</li>
<li>
<p># symbol, end of record indicator </p>
</li>
</ul>
<h3 id="3-data-files">3. Data Files</h3>
<p>In each round we receive a text data file for each weather station (around 630 data files). Each file has a header of the column names: </p>
<pre><code>hm, Station Number, Year Month Day Hour Minutes in YYYY, MM, DD, HH24, MI format in Local standard time, Precipitation since 9am local time in mm, Quality of precipitation since 9am local time, Air Temperature in degrees C, Quality of air temperature, Wet bulb temperature in degrees C, Quality of Wet bulb temperature, Dew point temperature in degrees C, Quality of dew point temperature, Relative humidity in percentage %, Quality of relative humidity, Vapour pressure in hPa, Quality of vapour pressure, Saturated vapour pressure in hPa, Quality of saturated vapour pressure, Wind speed in km/h, Wind speed quality, Wind direction in degrees true, Wind direction quality, Speed of maximum windgust in last 10 minutes in  km/h, Quality of speed of maximum windgust in last 10 minutes, Cloud amount (of first group) in eighths, Quality of first group of cloud amount, Cloud type (of first group) in code, Quality of first group of cloud type, Cloud height (of first group) in feet, Quality of first group of cloud height, Cloud amount(of second group) in eighths, Quality of second group of cloud amount, Cloud type (of second group) in code, Quality of second group of cloud type, Cloud height (of second group) in feet, Quality of second group of cloud height, Cloud amount (of third group) in eighths, Quality of third group of cloud amount, Cloud type (of third group) in code, Quality of third group of cloud type, Cloud height (of third group) in feet, Quality of third group of cloud height, Cloud amount (of fourth group) in eighths, Quality of fourth group of cloud amount, Cloud type (of fourth group) in code, Quality of fourth group of cloud type, Cloud height (of fourth group) in feet, Quality of fourth group of cloud height, Ceilometer cloud amount (of first group), Quality of first group of ceilometer cloud amount, Ceilometer cloud height (of first group) in feet, Quality of first group of ceilometer cloud height, Ceilometer cloud amount (of second group), Quality of second group of ceilometer cloud amount, Ceilometer cloud height (of second group) in feet, Quality of second group of ceilometer cloud height, Ceilometer cloud amount (of third group), Quality of third group of ceilometer cloud amount, Ceilometer cloud height (of third group) in feet, Quality of third group of ceilometer cloud height, Ceilometer sky clear flag, Mean sea level pressure in hPa, Quality of mean sea level pressure, Station level pressure in hPa, Quality of station level pressure, AWS Flag, #
</code></pre>
<p>And then the data for each 30-minute interval. </p>
<h2 id="appendix-b-data-processing">Appendix B: Data Processing</h2>
<h3 id="1-station-details">1. Station Details</h3>
<p>We rename the fields to the following: </p>
<ul>
<li>
<p>record_identifier </p>
</li>
<li>
<p>station_number </p>
</li>
<li>
<p>rainfall_district_code </p>
</li>
<li>
<p>station_name </p>
</li>
<li>
<p>month_year_station_opened </p>
</li>
<li>
<p>month_year_station_closed </p>
</li>
<li>
<p>latitude </p>
</li>
<li>
<p>longitude </p>
</li>
<li>
<p>method_by_which_latitude_longitude_was_derived </p>
</li>
<li>
<p>state </p>
</li>
<li>
<p>height_of_station_above_mean_sea_level_metres </p>
</li>
<li>
<p>height_of_barometer_above_mean_sea_level_metres </p>
</li>
<li>
<p>wmo_index_number, first_year_of_data_supplied </p>
</li>
<li>
<p>last_year_of_data_supplied </p>
</li>
<li>
<p>percentage_complete_between_first_and_last_records </p>
</li>
<li>
<p>percentage_of_values_with_quality_flag_y </p>
</li>
<li>
<p>percentage_of_values_with_quality_flag_n </p>
</li>
<li>
<p>percentage_of_values_with_quality_flag_w </p>
</li>
<li>
<p>percentage_of_values_with_quality_flag_s </p>
</li>
<li>
<p>percentage_of_values_with_quality_flag_i </p>
</li>
<li>
<p>end_of_record_indicator </p>
</li>
</ul>
<p>Then we add a <em>date_data_supplied</em> column with value being the last day of the month for which the data is provided. Occasionally the data needs correction, for example state is missing we find and fill it in. </p>
<h3 id="2-weather-data">2. Weather Data</h3>
<p>We rename columns as follows: </p>
<ul>
<li>
<p>"Year Month Day Hour Minutes in YYYY": "Year" </p>
</li>
<li>
<p>"MM": "Month" </p>
</li>
<li>
<p>"DD": "Day" </p>
</li>
<li>
<p>"HH24": "Hour Local STD" </p>
</li>
<li>
<p>"MI format in Local standard time": "Min Local STD" </p>
</li>
<li>
<p>"Relative humidity in percentage %": "Relative humidity in percentage" </p>
</li>
<li>
<p>"#": "end of record indicator" </p>
</li>
</ul>
<p>and rename all the fields by replacing each white space with an underscore. </p>
<p>Then change the data types (from string to integer or float) and treat the white spaces as Null according to the data type they should be. </p>
<p>Integer columns: </p>
<ul>
<li>
<p>station_number </p>
</li>
<li>
<p>year </p>
</li>
<li>
<p>month </p>
</li>
<li>
<p>day </p>
</li>
<li>
<p>hour_local_std </p>
</li>
<li>
<p>min_local_std </p>
</li>
<li>
<p>relative_humidity_in_percentage </p>
</li>
<li>
<p>wind_direction_in_degrees_true </p>
</li>
<li>
<p>cloud_height_of_first_group_in_feet </p>
</li>
<li>
<p>cloud_height_of_second_group_in_feet </p>
</li>
<li>
<p>cloud_height_of_third_group_in_feet </p>
</li>
<li>
<p>cloud_height_of_fourth_group_in_feet </p>
</li>
<li>
<p>ceilometer_cloud_height_of_first_group_in_feet </p>
</li>
<li>
<p>ceilometer_cloud_height_of_second_group_in_feet </p>
</li>
<li>
<p>ceilometer_cloud_height_of_third_group_in_feet </p>
</li>
<li>
<p>ceilometer_sky_clear_flag, aws_flag </p>
</li>
</ul>
<p>Float columns: </p>
<ul>
<li>
<p>precipitation_since_9am_local_time_in_mm </p>
</li>
<li>
<p>air_temperature_in_degrees_c </p>
</li>
<li>
<p>wet_bulb_temperature_in_degrees_c </p>
</li>
<li>
<p>dew_point_temperature_in_degrees_c </p>
</li>
<li>
<p>vapour_pressure_in_hpa </p>
</li>
<li>
<p>saturated_vapour_pressure_in_hpa </p>
</li>
<li>
<p>wind_speed_in_km_h </p>
</li>
<li>
<p>speed_of_maximum_windgust_in_last_10_minutes_in_km_h </p>
</li>
<li>
<p>mean_sea_level_pressure_in_hpa </p>
</li>
<li>
<p>station_level_pressure_in_hpa </p>
</li>
</ul>
<p>Then we create <em>datetime</em> from the year, month, day, hour, minute values (local time) and add it as a new column. We find the state by looking up the station number in the station details and add <em>state</em> as a new column to the data.  </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>